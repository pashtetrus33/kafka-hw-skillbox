# Практическая работа 6.5

## Цель практической работы

Цель данной практической работы — закрепить знания по следующим темам:
- Настройка Kafka в приложениях.
- Отправка сообщений в Kafka.
- Принятие и обработка сообщений от Kafka.

## Задание

Создайте два небольших приложения.

### Приложение 1: `order-service`

1. **Описание:**
   - Создайте приложение, которое будет иметь эндпоинт для обработки POST-запросов с сущностью `Order`.
   - Сущность `Order` состоит из двух полей: 
     - `String product`
     - `Integer quantity`
   - Эндпоинт принимает сущность и отправляет в Kafka событие `OrderEvent`, которое также содержит поля `product` и `quantity`.
   - Событие отправляется в топик `order-topic`.

2. **KafkaListener:**
   - Приложение должно иметь `KafkaListener`, который будет слушать события по топику `order-status-topic`.
   - Слушатель должен выводить в консоль информацию о событии в следующем формате:
     ```java
     log.info("Received message: {}", message);
     log.info("Key: {}; Partition: {}; Topic: {}, Timestamp: {}", key, partition, topic, timestamp);
     ```

### Приложение 2: `order-status-service`

1. **Описание:**
   - Приложение не имеет эндпоинтов.
   - Состоит из `KafkaListener`, который слушает топик `order-topic`.
   - При получении события от `order-topic`, отправляется новое событие в топик `order-status-topic`.
   - Событие состоит из полей:
     - `String status` (например, `CREATED` или `PROCESS`)
     - `Instant date` (текущая дата)

## Рекомендация

Все классы, используемые для создания тела события в Kafka, должны находиться в общем пакете. То есть, если вы отправляете событие `KafkaEvent` из приложения A и принимаете его в приложении B, класс `KafkaEvent` должен иметь одинаковую структуру в обоих приложениях.

## Критерии оценки

- Настройка Producer и Consumer для взаимодействия с Kafka.
- Умение отправить и обработать события из Kafka.
